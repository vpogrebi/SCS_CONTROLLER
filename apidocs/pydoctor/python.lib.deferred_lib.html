<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;python.lib.deferred_lib&rdquo;</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="module">Module p.l.deferred_lib</h1>
    <p>
      <span id="part">Part of <a href="python.html">python</a>.<a href="python.lib.html">lib</a></span>
      
      
    </p>
    <div>
      
    </div>
    <div>Created on Jul 17, 2009<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Author</td><td colspan="2">valeriypogrebitskiy
<p>Main purpose of deferred_lib.py - is to provide a simple decorator 
(@deferred) that can be used to turn any blocking methods into 
non-blocking, asynchronous methods. By using this decorator, decorated 
(blocking) methods are forced to return a deferred (instance of 
twisted.internet.defer.Deferred class) that 'fires' when method completes 
its execution. Thus, calling Python code will not have to block, waiting 
for the method to complete.</p>
<p>This functionality is essential to any implementation that uses Twisted 
framework</p>
<p>'@deferred' decorator is simply a reference to 
twisted.internet.threads.deferToThread() method's getter:</p>
<p>deferred = deferToThread.__get__</p>
<p>In addition to providing @deferred decorator, this module offers two 
&quot;convenience&quot; methods:</p>
<p>sleep() - Asynchronous (non-blocking) wrapper for standard Python's 
time.sleep() sleep_fail() - Same as sleep(), but intended to raise 
RuntimeError exception after sleeping</p>
<p>Both sleep() and sleep_fail() are designed as deferred callback handler 
methods (take extra first argument &lt;nothing&gt;), and are convenient to 
be used for Twisted code's unit testing</p>
</td></tr></table></div>
    
    
    <div id="splitTables">
      <table class="children sortable" id="id24">
  
  
  
  
  <tr class="function">
    
    
    <td>Function</td>
    <td><a href="python.lib.deferred_lib.html#sleep">sleep</a></td>
    <td><span>Sleep for &lt;secs&gt; number of seconds. This is an asynchronous 
(non-blocking) wrapper for</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="python.lib.deferred_lib.html#sleep_fail">sleep_fail</a></td>
    <td><span>Raise 'RuntimeError, &lt;err_msg&gt;' exception after 'sleeping' for 
&lt;secs&gt; number of seconds</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    
    <div class="function">
        <a name="python.lib.deferred_lib.sleep"></a>
        <a name="sleep"></a>
        <div class="functionHeader">
        @deferred<br />
        def sleep(nothing, secs):
        
      </div>
        <div class="functionBody">
          
          <div>Sleep for &lt;secs&gt; number of seconds. This is an asynchronous 
(non-blocking) wrapper for standard Python's time.sleep(). It is designed 
as a deferred's callback handler (takes extra &lt;nothing&gt; argument that
is provided by deferred)<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">nothing</td><td>non-important argument (provided by deferred that has 'fired' this 
callback)
</td></tr><tr><td></td><td class="fieldArg">secs</td><td>number of seconds to sleep
</td></tr></table></div>
        </div>
      </div><div class="function">
        <a name="python.lib.deferred_lib.sleep_fail"></a>
        <a name="sleep_fail"></a>
        <div class="functionHeader">
        @deferred<br />
        def sleep_fail(nothing, secs, err_msg):
        
      </div>
        <div class="functionBody">
          
          <div>Raise 'RuntimeError, &lt;err_msg&gt;' exception after 'sleeping' for 
&lt;secs&gt; number of seconds This is an asynchronous (non-blocking) 
wrapper for standard Python's time.sleep(). It is designed as a deferred's 
callback handler (takes extra &lt;nothing&gt; argument that is provided by 
deferred)<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">nothing</td><td>non-important argument (provided by deferred that has 'fired' this 
callback)
</td></tr><tr><td></td><td class="fieldArg">secs</td><td>number of seconds to sleep
</td></tr><tr><td></td><td class="fieldArg">err_msg</td><td>error message to be added to RuntimeError exception
</td></tr><tr class="fieldStart"><td class="fieldName">Raises</td><td class="fieldArg">RuntimeError</td><td>unconditionally raises exception - this is main purpose of this method
</td></tr></table></div>
        </div>
      </div>
    
    <address>
      <a href="index.html">API Documentation</a> for 'SCS Controller', generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2009-09-18 15:11:29.
    </address>
  </body>
</html>